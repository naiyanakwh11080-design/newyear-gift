<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>üéÅ ‡∏à‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà</title>
<style>
body{
    font-family: 'Tahoma';
    background: linear-gradient(135deg,#43cea2,#185a9d);
    color:#fff;
    text-align:center;
    padding:20px;
}
.container{
    background:#ffffff;
    color:#333;
    border-radius:15px;
    padding:20px;
    max-width:900px;
    margin:auto;
}
button{
    font-size:18px;
    padding:12px 25px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    margin:10px;
}
.random{ background:#28a745; color:#fff; }
.reset{ background:#dc3545; color:#fff; }

#result{
    font-size:26px;
    margin:20px;
    color:#d9534f;
}
textarea{
    width:100%;
    height:180px;
    border-radius:10px;
    padding:10px;
}
.list{
    text-align:left;
    max-height:200px;
    overflow:auto;
    background:#f8f9fa;
    padding:10px;
    border-radius:10px;
}
h2{ margin-top:30px; }
</style>
</head>
<body>

<div class="container">
<h1>üéâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏à‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà üéÅ</h1>

<button class="random" onclick="randomName()">üé≤ ‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</button>
<button class="reset" onclick="resetAll()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>

<div id="result"></div>
<div id="count"></div>

<h2>üìã ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h2>
<textarea id="names">
(‡∏ß‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏ß‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤)
</textarea>

<h2>‚úÖ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</h2>
<div class="list" id="history"></div>
</div>

<script>
let history = [];
let originalNames = "";

window.onload = function(){
    originalNames = document.getElementById("names").value;
    updateCount();
};

function randomName(){
    let textarea = document.getElementById("names");
    let names = textarea.value.split("\n").filter(n => n.trim() !== "");

    if(names.length === 0){
        document.getElementById("result").innerHTML = "‚ùå ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÅ‡∏•‡πâ‡∏ß";
        return;
    }

    let index = Math.floor(Math.random() * names.length);
    let selected = names[index];

    document.getElementById("result").innerHTML = "üéÅ ‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç:<br><b>" + selected + "</b>";

    history.push(selected);
    names.splice(index,1);

    textarea.value = names.join("\n");
    updateHistory();
    updateCount();
}

function updateHistory(){
    document.getElementById("history").innerHTML =
        history.map((n,i)=>`${i+1}. ${n}`).join("<br>");
}

function updateCount(){
    let remaining = document.getElementById("names").value.split("\n").filter(n => n.trim() !== "").length;
    document.getElementById("count").innerHTML = "üë• ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å: " + remaining + " ‡∏Ñ‡∏ô";
}

function resetAll(){
    if(confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")){
        document.getElementById("names").value = originalNames;
        history = [];
        document.getElementById("history").innerHTML = "";
        document.getElementById("result").innerHTML = "";
        updateCount();
    }
}
</script>

</body>
</html>
