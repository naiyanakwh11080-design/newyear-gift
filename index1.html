<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>ğŸ¡ à¸§à¸‡à¸¥à¹‰à¸­à¸ˆà¸±à¸šà¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸›à¸µà¹ƒà¸«à¸¡à¹ˆ</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
 font-family:'Prompt',sans-serif;
 background:radial-gradient(circle,#001f3f,#001020);
 color:#fff;
 text-align:center;
}
canvas{background:#fff;border-radius:50%;margin-top:20px;}
button{
 font-size:20px;
 padding:12px 30px;
 border:none;
 border-radius:30px;
 margin:15px;
 cursor:pointer;
}
.spin{background:#f1c40f;}
.reset{background:#e74c3c;color:#fff;}
#result{font-size:28px;margin:20px;}
</style>
</head>
<body>

<h1>ğŸ„ à¸§à¸‡à¸¥à¹‰à¸­à¸ªà¸¸à¹ˆà¸¡à¸ˆà¸±à¸šà¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸›à¸µà¹ƒà¸«à¸¡à¹ˆ ğŸ</h1>

<canvas id="wheel" width="500" height="500"></canvas><br>

<button class="spin" onclick="spin()">ğŸ¡ à¸«à¸¡à¸¸à¸™à¸§à¸‡à¸¥à¹‰à¸­ (10 à¸§à¸´à¸™à¸²à¸—à¸µ)</button>
<button class="reset" onclick="reset()">ğŸ”„ à¸£à¸µà¹€à¸‹à¹‡à¸•</button>

<div id="result"></div>

<script>
let names=[
 "à¸™à¸²à¸¢à¸„à¸¡à¸à¸¤à¸© à¸§à¸´à¹€à¸¨à¸©","à¸™à¸²à¸¢à¸­à¸±à¸©à¸à¸²à¸§à¸¸à¸˜ à¸ªà¸­à¸™à¸à¸£à¸«à¸¡","à¸™à¸²à¸‡à¸“à¸ à¸±à¸—à¸£ à¸™à¸²à¸Šà¸±à¸¢à¹€à¸‡à¸´à¸™",
 "à¸™à¸²à¸¢à¸›à¸à¸´à¸à¸‡à¸©à¹Œ à¸¨à¸£à¸µà¸§à¸´à¸šà¸¹à¸¥à¸¢à¹Œ","à¸™à¸ª.à¸§à¸™à¸´à¸Šà¸™à¸ à¸«à¸‡à¸©à¹Œà¹€à¸­à¸",
 // ğŸ‘‰ à¹ƒà¸ªà¹ˆà¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸•à¸£à¸‡à¸™à¸µà¹‰à¹„à¸”à¹‰à¹€à¸¥à¸¢
];

let original=[...names];
let canvas=document.getElementById("wheel");
let ctx=canvas.getContext("2d");
let angle=0;
let spinning=false;

function drawWheel(){
 let slice=2*Math.PI/names.length;
 ctx.clearRect(0,0,500,500);
 names.forEach((name,i)=>{
  ctx.beginPath();
  ctx.fillStyle=`hsl(${i*360/names.length},70%,60%)`;
  ctx.moveTo(250,250);
  ctx.arc(250,250,240,angle+i*slice,angle+(i+1)*slice);
  ctx.fill();
  ctx.save();
  ctx.translate(250,250);
  ctx.rotate(angle+(i+0.5)*slice);
  ctx.textAlign="right";
  ctx.fillStyle="#000";
  ctx.font="16px Prompt";
  ctx.fillText(name,230,5);
  ctx.restore();
 });
}

drawWheel();

function spin(){
 if(spinning||names.length===0)return;
 spinning=true;
 let duration=10000;
 let start=Date.now();

 let timer=setInterval(()=>{
  let t=Date.now()-start;
  angle+=0.3*(1-t/duration);
  drawWheel();

  if(t>=duration){
   clearInterval(timer);
   spinning=false;
   pick();
  }
 },20);
}

function pick(){
 let slice=2*Math.PI/names.length;
 let index=Math.floor(((2*Math.PI-angle)%(2*Math.PI))/slice);
 let name=names[index];
 document.getElementById("result").innerHTML="ğŸ‰ à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¸­à¸‡à¸‚à¸§à¸±à¸:<br><b>"+name+"</b>";
 confetti({particleCount:150,spread:120});
 names.splice(index,1);
 drawWheel();
}

function reset(){
 names=[...original];
 document.getElementById("result").innerHTML="";
 drawWheel();
}
</script>

</body>
</html>
